<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Route trong angularjs</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="libs/angular.min.js"></script>
    <script src="libs/angular-route.min.js"></script>
  </head>

  <body ng-app="AppRoute">
    <header class="bg-dark">
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="#"></a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
              <a class="nav-link active" aria-current="page" href="#!/trang-chu"
                >Trang chủ</a
              >
              <a class="nav-link active" aria-current="page" href="#!/san-pham"
                >Sản phẩm</a
              >

              <a class="nav-link" href="#!/gioi-thieu">Giới thiệu</a>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="">
      main
      <!--ng-view: ddinhj nghiax khu vực hiển thị 1 trang -->
      <div ng-view></div>
    </main>
    <footer class="bg-danger">footer</footer>
  </body>
  <script src="controllers/TrangChuController.js"></script>
  <script src="controllers/GioiThieuController.js"></script>
  <script src="controllers/SanPhamController.js"></script>
  <script>
    let myApp = angular.module("AppRoute", ["ngRoute"]);
    //ngRoute cung cập tính năng điều hướng để quản lý việc điều hướng

    myApp.config(function ($routeProvider) {
      // config(): cấu hình các tham số trước khi khởi chạy chương trình
      // Tham số $routeProvider là mặc định không được thay đổi
      $routeProvider
        .when(
          "/trang-chu", // tên route
          {
            templateUrl: "views/trangchu.html",
            controller: TrangChuController, // tẽn ctl cầm map đến
          }
        )

        .when("/san-pham", {
          templateUrl: "views/sanpham.html",
          controller: SanPhamController,
        })

        .when("/gioi-thieu/:id", {
          templateUrl: "views/gioithieu.html",
          controller: GioiThieuController,
        });

      otherwise(
        // Trong trường hợp người dùng yêu cầu 1 route không có
        // Nó sẽ tự động được chuyển hướng về raute này
        {
          redirectTo: "/trang-chu",
        }
      );
    });
  </script>
</html>
